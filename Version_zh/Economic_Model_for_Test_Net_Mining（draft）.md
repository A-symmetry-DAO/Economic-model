title: Economic Model for Test Net Mining  
description: 挖出p-meer销毁hlc的总量恒定模型  
Status: Draft  

# HLC测试网挖矿经济模型设计思考 （draft）

## Definition

- HalalChain 原 ERC20 token：HLC
- 测试网挖出的币：p-meer
- HalalChain 主网币：meer

## Summary

HalalChain 在主网上线之前，于测试网引入真实算力进行压力测试与相关参数测定，为保证矿工利益并吸引真实算力参与到测试网挖矿，在测试网挖矿期间，p-meer和HLC将可以等价交换，进行流通。另外，矿工每挖出一个 p-meer，需要对应销毁一个HLC，以维持 p-meer 数量和 HLC 的数量总和保持在 10 亿。在测试网结束时，p-meer 和 HLC 享有和主网币 meer 同等的映射权，即需要建立 HLC --> meer 和 p-meer --> meer 的双通道映射。

由于要维持 p-meer 和 HLC 总量保持在 10 亿，就需要确定可供矿工开采的 p-meer 数量以及可销毁的数量，在这之前，我们需要先了解一下 HLC 目前的结构。

## Current Structure of HLC

原 HLC token 经由ICO进行了分配，主要有这么几部分：经ICO售卖出去的流于市场部分，发展基金和开发团队奖励。

- 市场流通部分：已经分配确认过所有权的个人资产，假定为 A；

- 发展基金部分：未分配，属于发展该链的公共资产，现由基金会掌管，假定为 B；

- 开发团队奖励：已许诺分配给开发团队，理论上将属于个人资产，现由基金会掌管，假定为 C。

A、B、C 需由基金会进行资产清算后给出具体数量，A + B + C = 10 亿。
（B约为2.5亿，A+C约为7.5亿）

## Logicality and Design Rules

从 HLC 当前的结构可以看出，A + C 部分实际上已属于已分配的个人资产；而 B 部分，由于发展补贴基金将会从主网的税收获得，因此可以在测试网销毁，分配给矿工由挖矿产出。每挖出一个 p-meer，相应的也会有一个 HLC 销毁，这样既可以引进真实算力参与测试网，又可以保持总量的恒定。

**该方案的实施需要遵循以下准则**：

- **销毁与产出**：每挖出一个p-meer，相应的要销毁一个HLC，销毁过程公开；

- **总量恒定**：p-meer 和 HLC 的总量保持在10亿，p-meer数量 + HLC数量 = 10亿；

- **映射同权**：p-meer 和 HLC 拥有和主网币相同的映射权限与比例，映射同时两种token都将被销毁（**映射是否能同权，待定**）；

- **兑换自由**：p-meer 持有者可以同 HLC 持有者在双方自愿的情况下自由交换。



## Modeling

### 设计目标  （draft 0.1）

- 吸引矿工参与测试网挖矿，引入真实算力进行压力测试与参数测定；

- 通过销毁机制和回购机制减少流通中的 HLC 数量，增大由矿工做价值支撑的 p-meer数量，使得整体价值引入新的支撑；

- 根据最终矿工挖出的 p-meer数量与流通中的HLC数量的比例，确定HLC和p-meer总量在主网中的占比，（或者根据测试网最终能达到的挖矿难度确定HLC和p-meer总量在主网中的占比）。

- 鼓励HLC持币用户兑换p-meer。

### 基础模型 （draft 0.1）

（注：B=2.5亿，A+c=7.5亿）

- HLC 销毁上限：B
- p-meer 产出上限：B

![model](../image/hlc-pmeer-01.jpg)

设在某一时刻 HLC 数量为 X， p-meer 数量为 Y，则 X + Y = 10亿。则：0 ≤ Y ≤ B, A+C ≤ X ≤ 10亿。 


### p-meer 产量扩展模型 （draft 0.1）

![](../image/hlc-pmeer-02.jpg)

在该模型中 p-meer 产出总量将超过 B，假设超出的部分为 P。

设在某一时刻 HLC 数量为 X， p-meer 数量为 Y，则 X + Y = 10亿。则：0 ≤ Y ≤ B+P, A+C-P ≤ X ≤ 10亿。

由于超出的部分 P 并没有对应的HLC进行销毁，那么就需要考虑额度扩展的来源，参考方向：

- 扩展方案一：由基金会于市场回购 P 数量的 HLC 进行销毁，p-meer 和 HLC 总量仍维持在10亿。

- 扩展方案二：由矿工自行回购 P 数量的 HLC 进行销毁，以获得继续开采 p-meer 的权利，p-meer 和 HLC 总量仍维持在10亿。但此方法逻辑上很难对矿工产生激励，无法让矿工产生动力继续挖矿。

- 扩展方案三：由矿工自行回购 P 数量的 HLC 进行锁仓，以获得继续开采 p-meer 的权利，p-meer 和 HLC 最终总量将超过10亿，为 10亿+P。

###  p-meer可产量扩展方案选型 —— v0.2.1 （draft 0.2）

扩展方案v0.2.1：面向所有 HLC 持有者，激励积极贡献者参与销毁 HLC 以获得 P-meer 可产量，总销毁数量为 P亿。P是动态确定的，主要针对HLC普通持币者，激励HLC普通持币者参与“销毁”。

P 具有积极贡献，扩展了p-meer的可产量。最终也会导致整体在映射主网时的占比增高（参照映射规则）。但 P 这部分本身属于个人资产，销毁了 P 亿个HLC，需要给与衡量其贡献的回报。这种回报主要有两种考虑方向：
  
① 许诺未来权益：本质上是用 P 亿个HLC购买了某些未来权益，映射时不考虑销毁的P亿个HLC（因为对应是有P亿个p-meer产生）。
  
② 许诺现有回报：P亿个HLC的销毁，增加了p-meer的产量，也会增加 w 值，即提升了整体在映射时的主网占比。在映射时需考虑销毁的 P亿个HLC：**销毁的P亿个HLC享有和p-meer相同的映射权**。
  
 我们选定方案 ② 进行展开。 


### 映射规则  （draft 0.1）

假设在最终映射时HLC和p-meer的总和（10亿）对应的主网币（设为N0 亿）占主网总量（N 亿）的比例为 w，则 w·N = N0。而在测试网期间我们要确定的便是 w 的值。

在映射时，最终HLC的数量为X，p-meer的数量为Y，最终p-meer的数量将影响整体在主网中的占比。我们规定： 

- 方案一：w = Y/(X+Y) 

  p-meer数量越多，主网留给矿工的比例会越少，映射占比越大。
  
  内在逻辑：p-meer的产生实际上是矿工为整个网络注资、实现网络功能，提升网络价值。p-meer产生量越多，说明矿工注资越多，hlc和p-meer整体在整个主网占比越大。

   
#### 基于基础模型的映射 （draft 0.2）

基础模型的p-meer产量上限是B（2.5亿），即Y的上限也是2.5亿。假如这2.5亿全部产出，则最终映射时整体（hlc+p-meer）占主网的比例为 w=25%，那么 N0=25%N。
 
定义映射比 f：单个token映射得meer数，假定hlc销毁全部来源于B，那么hlc和p-meer映射同权，即

![](../image/f.png)

若p-meer产量 Y=B=2.5亿，且销毁部分全部来源于B，则

![](../image/f-0.png)  

#### 基于p-meer产量扩展的模型的映射 （draft 0.2）

基于p-meer产量扩展模型的核心思想是激励hlc持币者参与销毁。因此在操作上我们设置这样的规则：

- HLC token的销毁随着p-meer的产生每天进行：HLC token每天销毁定量，HLC 普通持币用户每天可参与的销毁额度也定量，销毁时优先选择普通用户的销毁池，B 部分作为补充。即最终销毁的 P 亿里，可能一部分是普通用户销毁，一部分来源于B中的一部分。

  在这样的情况下，**p-meer可产生的数量就是 P 亿，w 的值由 P 确定**，即 Y = P。而 w = N0/N = Y/(X+Y)，故：
    
  ![](../image/testnet/w.png)

- 销毁的 P 亿的 HLC 与 p-meer 同权映射，优先计算。

  - p-meer 的映射权重为 Y/(X+Y) = Y/10; 其映射比为：
  
    ![](../image/f_Y1.png)
    
    需要注意的是,理论上销毁了P亿的HLC，就要产生出P亿p-meer出来，但实践中可能会因为其他终止条件导致p-meer实际产生的数量可能小于P，则以实际数量及权重计算。
  
  - 销毁的 P 亿 HLC的映射权重为 P/(X+Y) = P/10; 其映射比为：
    
    ![](../image/testnet/f_P.png)
  
  - 剩余未参与销毁的HLC，即 X，映射权重为 1 - Y/10 - P/10 = (10-Y-P)/10；其映射比为：
    
    ![](../image/f_X1.png) 
    
    若pmeer实际产量等于P，则X部分映射权重为(X-P)/10。
     
举例：假设 P=1 亿，p-meer实际产量也是1亿，则

- p-meer映射权重为10%，映射比为N/100；
- 销毁的P亿HLC映射权重为10%，映射比为N/100；
- 市场剩余的9亿HLC映射权重为80%，映射比为8N/900。

假若在触发终止条件时实际产生的p-meer只有0.9亿，则
  
- p-meer映射权重为9%，映射比为N/100；
- 销毁的1亿HLC映射权重为10%，映射比为N/100；
- 市场剩余的9亿HLC映射权重为81%，映射比为8.1N/900。  
   


### 操作细节  （draft 0.1）

- HLC和p-meer的兑换

  首先，矿工有将挖到的p-meer兑换为HLC，进入市场流通变现的需求，这条通道需要给打开。基金会作为第一承兑方。当然在实际操作过程中，可以采取措施提高矿工对主网币meer的预期，鼓励矿工持有p-meer。另一方面，可以鼓励HLC持币用户将HLC兑换为p-meer，当然这会让他们失去绝对流通权，因此需要以利诱之。可采取的措施，如：
  
  - 持有p-meer进行锁仓可在主网上线后享有一定时间段的税收分红；
  - 将HLC兑换为p-meer进行锁仓的用户，将给予一定比例的奖励。
  
- 基金会投入算力参与挖矿获取p-meer

  - 算力保证：提供保底算力，维持网络稳定LC持币用户兑换p-meer时，基金会手中有币可兑换；
  - 挖矿规模：基金会投入挖矿的规模不做硬性指标，是可大可小的，有其灵活性。  
  
- 基金会回购HLC

  - 兑换p-meer：必要时基金会需承担矿工将p-meer兑换为HLC的需求；
  - HLC兑换保证：基金会挖出的币可以保证HLC持币用户想要兑换p-meer时，有币可兑换；
  - p-meer产量扩展：必要时可销毁回购的HLC以扩展p-meer产量，需提前做好准备。
      
（以上为参考操作细节，可做修正、增加、甚至否决） 

### 相关参数设定

- 出块时间 t：与主网接近

- 区块奖励 r：测试网期间的区块奖励设定，与计划发放的货币量及计划持续时间有关，同时需考虑矿工收益，即不宜太大，造成矿工变现欲望加强；也不宜太小，使得矿工没动力。

  假设出块时间为30s，出块奖励r=500，则一年时间约可产出币量 500*365\*24\*3600/30=5.256亿，每一天产币量为 500\*24\*3600/30 = 144万。

- 难度 D 和算力 H：挖矿难度和算力是相对应的，挖矿难度是为了维持出块时间（平均）的稳定，随算力变化而自动调节的。同时算力的增长（必增加难度），也会造成挖矿成本的增加。


- 测试网终止条件：

  - 难度指标
  - 时间指标
  - 总量指标
  - 主网开发进度
  - 挖矿成本指标


   

## Version History

- 2019/07/03 Initial draft 0.1
- 2019/07/15 draft 0.2

